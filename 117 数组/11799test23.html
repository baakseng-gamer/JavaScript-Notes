<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // 每位学生的各科成绩初始化
        let stu1 = [1, 105, 62, 118],
            stu2 = [2, 89, 78, 120],
            stu3 = [3, 86, 64, 80],
            stu4 = [4, 78, 99, 91],
            stu5 = [5, 107.5, 97, 70],
            stu6 = [6, 112, 61, 92],
            stu7 = [7, 101, 79, 104],
            stu8 = [8, 71, 72, 105],
            stu9 = [9, 56, 68, 61],
            stu10 = [10, 98, 83, 77],
            stu11 = [11, 90, 103, 83],
            stu12 = [12, 100.5, 102, 86],
            stu13 = [13, 84, 112, 65],
            stu14 = [14, 91, 89, 83],
            stu15 = [15, 93.5, 70, 104],
            stu16 = [16, 83, 68, 70];

        let stuScoreSheet = [
            stu1, stu2, stu3, stu4, stu5,
            stu6, stu7, stu8, stu9, stu10,
            stu11, stu12, stu13, stu14, stu15,
            stu16
        ]


        // 原始成绩表
        document.write("<h2>原始成绩表</h2>");
        function xuanranorigin(){
            document.write("<table id='origin' border = '1' ");
            document.write("<tr>");
            document.write("<th>学号</th>");
            document.write("<th>语文</th>");
            document.write("<th>数学</th>");
            document.write("<th>英语</th>");
            document.write("</tr>")
            
            for(let i = 0; i < stuScoreSheet.length; i++){
                document.write("<tr>");
                for(let j = 0; j < 4; j++){
                    document.write("<td>" + stuScoreSheet[i][j] + "</td>");
                }
                document.write("</tr>");
            }

            document.write("</table>");
        }
        xuanranorigin();


        // 总成绩排序 采用冒泡排序
        document.write(
            "<br />" + 
            "<h2>依总分排序</h2>");
        function xuanranpaixu(){
            document.write("<table id='origin' border = '1' ");
            document.write("<tr>");
            document.write("<th>学号</th>");
            document.write("<th>语文</th>");
            document.write("<th>数学</th>");
            document.write("<th>英语</th>");
            document.write("<th>总分</th>");
            document.write("<th>平均分</th>");
            document.write("</tr>")

            // 开始冒泡排序，存放数组
            for(let i = 0; i < stuScoreSheet.length; i++){
                for(let j = 0; j <stuScoreSheet.length - i - 1; j++){
                    if((stuScoreSheet[j][1] + stuScoreSheet[j][2] + stuScoreSheet[j][3])
                        <
                        (stuScoreSheet[j+1][1] + stuScoreSheet[j+1][2] + stuScoreSheet[j+1][3])
                    ){
                        let tmp = stuScoreSheet[j];
                        stuScoreSheet[j] = stuScoreSheet[j+1];
                        stuScoreSheet[j+1] = tmp;
                    }
                }
            }
            
            // 排序好的数组以表格展示
            for(let i = 0; i < stuScoreSheet.length; i++){
                document.write("<tr>");
                for(let j = 0; j < 4; j++){
                    document.write("<td>" + stuScoreSheet[i][j] + "</td>");
                }
                document.write("<td>" + (stuScoreSheet[i][1] + stuScoreSheet[i][2] + stuScoreSheet[i][3]) + "</td>");
                document.write("<td>" + ((stuScoreSheet[i][1] + stuScoreSheet[i][2] + stuScoreSheet[i][3])/3).toFixed(2) + "</td>");
                // toFixed(2) 作用是保留两位小数
            }

            document.write("</table>");
        }
        xuanranpaixu();
        
        // 测试用
        console.log(stuScoreSheet[0][1] + stuScoreSheet[0][2] + stuScoreSheet[0][3]);
        
    </script>
    <style>

    </style>
</head>
<body>
    <!-- html的表格标签 -->
    <!-- <table id="origin" border='1'>
        <tr>
            <th>学号</th>
            <th>语文</th>
            <th>数学</th>
            <th>英语</th>
        </tr>
        <tr>
            <td>...</td>
            <td>...</td>
            <td>...</td>
            <td>...</td>
        </tr>
    </table> -->
</body>
</html>