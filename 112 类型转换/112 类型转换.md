# 112 类型转换

大多数情况下，运算符和函数会自动将赋予他们的值转换为正确的类型。

比如，`alert` 会自动将任何值都转换为字符串以进行显示。算术运算符会将值转换为数字。

在某些情况下，我们需要将值显式地转换为我们期望的类型。

## 1.转换为字符串

String()，把任何数据类型转换为字符串。

```
        let a = 79;
        console.log(typeof a); //number
        let b = String(a);
        console.log(typeof b);//string
```

实例： [11201typeconversion.html](11201typeconversion.html) 

如果boolean类型的`null`值转为字符串型，再转换为boolean类型的值为多少？

```
        let a = true;
        console.log(typeof a);//boolean

        let b = String(a);
        console.log(b);
        console.log(typeof b);

        let c = Boolean(b);
        console.log(c);
        console.log(typeof c);
```

实例： [11202typeconversion.html](11202typeconversion.html)  打开控制台的console里看结果

字符串转换最明显。false 变成 "false"，null 变成 "null" 等。



## 2.转换为数字型

Number()

全局方法 Number() 可以将字符串转换为数字。

字符串包含数字(如 "3.14") 转换为数字 (如 3.14).

空字符串转换为 0。

其他的字符串会转换为 NaN (不是个数字)。



字符串里带有数字：

```
        let a = "123";
        let b = Number(a);
        console.log(b);//123
        console.log(typeof b);//number
```

实例： [11203typeconversion.html](11203typeconversion.html) 



带有数字的几个字符串进行计算：

```
        let a = "120";
        let b = "2";
        console.log(a + b); //1202 string
        console.log(a / b); //60
        console.log(a % b); //0 取余
        console.log(a * b); //240
        console.log(a - b); //118
```

只有+号是拼接，其它的自动转为数字型进行计算。

实例： [11204typeconversion.html](11204typeconversion.html) 



在算术函数和表达式中，会自动进行 number 类型转换。

字符串的非数字转换成数字会怎么样：

```
        let a = "gundam";
        let aNumber = Number(a);
        console.log(aNumber);//NaN
        console.log(typeof aNumber);//number

        let b = "RX78";
        console.log(Number(b)); //NaN
        console.log(typeof Number(b)); //number
```

实例： [11205typeconversion.html](11205typeconversion.html) 



### 2.1parseInt()和parseFloat

用**parseInt()**或**parseFloat()**转换成数字型：

```
        let num1 = "123.06";
        let numInt = parseInt(num1);
        let numFloat = parseFloat(num1);
        console.log(numInt);//123
        console.log(numFloat);//123.06
```

实例： [11206typeconversion.html](11206typeconversion.html) 

parseInt()是转换成取整的数字型。

parseFloat()解析字符串并返回一个浮点数。



**转换成number 类型的规则：**

| 值              | 变成……                                                       |
| :-------------- | :----------------------------------------------------------- |
| `undefined`     | `NaN`                                                        |
| `null`          | `0`                                                          |
| `true 和 false` | `1` and `0`                                                  |
| `string`        | 去掉首尾空格后的纯数字字符串中含有的数字。如果剩余字符串为空，则转换结果为 `0`。否则，将会从剩余字符串中“读取”数字。当类型转换出现 error 时返回 `NaN`。 |

**例子：**

```
alert( Number("   123   ") ); // 123
alert( Number("123z") );      // NaN（从字符串“读取”数字，读到 "z" 时出现错误）
alert( Number(true) );        // 1
alert( Number(false) );       // 0

```

**请注意 null 和 undefined 在这有点不同：null 变成数字 0，undefined 变成 NaN。**



## 3.转换成布尔型

它发生在逻辑运算中（稍后我们将进行条件判断和其他类似的东西），但是也可以通过调用 Boolean(value) 显式地进行转换。

转换规则如下：

- 直观上为“空”的值（如 `0`、空字符串、`null`、`undefined` 和 `NaN`）将变为 `false`。
- 其他值变成 `true`。

**例子：**

```
alert( Boolean(1) ); // true
alert( Boolean(0) ); // false

alert( Boolean("hello") ); // true
alert( Boolean("") ); // false
```



**!WARING!**

包含 0 的字符串 "0" 是 true
一些编程语言（比如 PHP）视 "0" 为 false。但在 JavaScript 中，非空的字符串总是 true。

```
alert( Boolean("0") ); // true
alert( Boolean(" ") ); // 空白，也是 true（任何非空字符串都是 true）
```

| 值                                    | 变成……  |
| :------------------------------------ | :------ |
| `0`, `null`, `undefined`, `NaN`, `""` | `false` |
| 其他值                                | `true`  |



## 总结

有三种常用的类型转换：转换为 string 类型、转换为 number 类型和转换为 boolean 类型。



来自菜鸟教程的大表：

| 原始值              | 转换为数字 | 转换为字符串      | 转换为布尔值 | 实例                                                         |
| :------------------ | :--------- | :---------------- | :----------- | :----------------------------------------------------------- |
| false               | 0          | "false"           | false        | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_false) |
| true                | 1          | "true"            | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_true) |
| 0                   | 0          | "0"               | false        | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_number_0) |
| 1                   | 1          | "1"               | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_number_1) |
| "0"                 | 0          | "0"               | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_string_0) |
| "000"               | 0          | "000"             | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_string_000) |
| "1"                 | 1          | "1"               | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_string_1) |
| NaN                 | NaN        | "NaN"             | false        | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_nan) |
| Infinity            | Infinity   | "Infinity"        | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_infinity) |
| -Infinity           | -Infinity  | "-Infinity"       | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_infinity_minus) |
| ""                  | 0          | ""                | false        | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_string_empty) |
| "20"                | 20         | "20"              | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_string_number) |
| "Runoob"            | NaN        | "Runoob"          | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_string_text) |
| [ ]                 | 0          | ""                | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_array_empty) |
| [20]                | 20         | "20"              | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_array_one_number) |
| [10,20]             | NaN        | "10,20"           | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_array_two_numbers) |
| ["Runoob"]          | NaN        | "Runoob"          | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_array_one_string) |
| ["Runoob","Google"] | NaN        | "Runoob,Google"   | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_array_two_strings) |
| function(){}        | NaN        | "function(){}"    | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_function) |
| { }                 | NaN        | "[object Object]" | true         | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_object) |
| null                | 0          | "null"            | false        | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_null) |
| undefined           | NaN        | "undefined"       | false        | [尝试一下 »](https://www.runoob.com/try/try.php?filename=tryjs_type_convert_undefined) |